# 性能测试 - wrk 
### 需要了理解的基础概念
- pv 网站当日的访问人数
- uv 独立访问的人数 
- qps = pv / t (1000000 / 10 * 60 * 60 = 27.7 100万请求集中在10个小时，服务器每秒处理27.7个业务请求)

### WRK 的使用
  - -t模拟的线程数
  - -c需要模拟的连接数
  - --timeout 超时时间
  - -d 测试的持续时间
```
./wrk -t12 -c400 -d39s http://127.0.0.1:4000/
```
用 12 个线程模拟100个连接 30s 内 一般线程数不宜过多，cup核数的2-4倍足够。

### 测试的结果参数

项目 |名称| 说明
--|--|--
AVG | 平均值|每次测试的平均值
Stdev| 标准偏差|结构的离散程度，越高说明越不稳定
Max|最大值|最大的一次结果
+/-Stdev|正负一个标准差占比|结果的离散程度，越大越不稳定
Latency || 可以理解为响应时间
Req/Sec||每个线程每一秒钟的完成请求数

一般我们主要关注平均值和最大值。
标准差如果太大说明样本本身离散程度比较高，有可能系统波动很大。


  